<!DOCTYPE html
        PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
    <link href="../static/css/style1.css?v=3" rel="stylesheet" type="text/css"/>
    <script src="https://cdn.bootcss.com/jquery/2.1.1/jquery.min.js" type="text/javascript"></script>
    <!--    <script src="../static/js/jquery.js"></script>-->
    <!--    <script src="../static/js/jquery.superslide.2.1.1.js" type="text/javascript"></script>-->

    <!-- 最新版本的 Bootstrap 核心 CSS 文件 -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@3.3.7/dist/css/bootstrap.min.css"
          integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
    <link rel="icon" href="../static/images/logo.ico" type="image/x-icon"/>
    <!-- 最新的 Bootstrap 核心 JavaScript 文件 -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@3.3.7/dist/js/bootstrap.min.js"
            integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa"
            crossorigin="anonymous"></script>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@3.3.7/dist/css/bootstrap.min.css"
          integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdn.staticfile.org/twitter-bootstrap/4.1.0/css/bootstrap.min.css">
    <!--    <script src="https://cdn.staticfile.org/jquery/3.2.1/jquery.min.js"></script>-->
    <script src="https://cdn.staticfile.org/popper.js/1.12.5/umd/popper.min.js"></script>
    <script src="https://cdn.staticfile.org/twitter-bootstrap/4.1.0/js/bootstrap.min.js"></script>

    <script src="https://cdn.staticfile.org/echarts/4.3.0/echarts.min.js"></script>
    <title>查询评分</title>
    <style>
         html,
        body {
            width: 100%;
            height: 100%;
        }
        .wapper_box {
	     overflow: initial;
	    }
        
        .header_box1 {
            position: relative;
            background: url(../static/images/index-header.jpg)no-repeat;
            background-size: 125% 123%;
        }

        .nav_box {
            width: 50%;
            height: 10%;
            float: right;
            margin-left: 50px;
            margin-top: 50px;
            color: #ffffff;
        }

        .nav_box a {
            color: #ffffff;
        }

        .nav_slide1 a {
            word-break: keep-all;
            color: #000;
        }

        .contacts {
            position: absolute;
            bottom: 12%;
            left: 50%;
            transform: translateX(-50%);
            -webkit-transform: translateX(-50%);
            -moz-transform: translateX(-50%);
            width: 500px;
            overflow: hidden;
            height: 25px;
        }



        .content_box_bot1 {
            width:290px;
            /* height:800px; */
            display:block;
            float:left;
            /* -webkit-box-sizing:content-box; */
            /* box-sizing: content-box; */
            /* text-align: center; */
            /* font-size: 20px; */
            min-height: 100%;
            /* margin-top:100px; */
          
            background-size: 100% 100%;
        }
         .content_box_bot_l {
            display: block;
            margin: 0 auto;
            float: none;
            position: absolute;
            z-index: 9999;
            margin-left: 130px;
            margin-top:20px;
            transform: translateX(-50%);
        }
        .info_news_text p{
            display:block;
            float:left;
            width:60px;
            margin-left:0;
            line-height: 10px;
            font-size: 10px;
        }
        .info_news_text>div {
            background-color: #ffffff;
        }

       

        #container {
            margin-left: auto;
            margin-top: 200px;
        }

        .act {
            background-color: rgb(0, 64, 151);
            color: #ffffff;
        }

        .el-button {
            display: inline-block;
           
            line-height: 8px;
            height:30px;
            white-space: nowrap;
            cursor: pointer;
            background: #fff;
            border: 1px solid #dcdfe6;
            color: #606266;
            -webkit-appearance: none;
            text-align: center;
            box-sizing: border-box;
            outline: none;
            /* margin: 0; */
            transition: .1s;
            font-weight: 500;
            -moz-user-select: none;
            -webkit-user-select: none;
            -ms-user-select: none;
            padding: 12px 12px;
            margin-left:-70px;
            font-size: 14px;
            border-radius: 4px;
            color: #fff;
            background-color: #409eff;
            border-color: #409eff;
             margin-top:-35px;
        }
        .first{
            margin-left:-25px;
        }
        .process-parent1,.process-parent2,.process-parent3,.process-parent4,.process-parent5,.process-parent6,.process-parent7,.process-parent8,.process-parent9,.process-parent10,.process-parent11,.process-parent12{
            height: 30px;
            width:170px;
        }
       


        
    .user-msg {
    position: absolute;
    right: 50px;
    bottom: 20px;
    cursor: pointer;
  }

  .user-icon {
    width: 50px;
    height: 50px;
  }

  .user-name-num {
    display: none;
    position: absolute;
    bottom: 0;
    transform: translateY(100%);
    -webkit-transform: translateY(100%);
  }

  .user-name-num>div {
    width: 200%;
    height: 40px;
    text-align: center;
    background-color: rgb(233, 233, 233);
    line-height: 40px;
    font-size: 16px;
    border-radius: 3px;
    /* border: 1px solid #000; */
  }
  .user-name-num div>a{
    color:black;
    text-decoration: none;
  }
  hr{
      padding:0;
      margin:0;
      color:black;
  }

    </style>

<body>

<div class="wapper_box">

    <div class="header_box1">
        <div class="user-msg">
            <img src="../static/images/icon_A.png" class="user-icon" alt="个人信息">
            <div class="user-name-num">
                <div><a href="{{ url_for('personal_information') }}">个人信息</a></div>
                <hr>
                <div><a href="{{ url_for('register') }}">修改密码</a></div>
            </div>
        </div>
        <div class="header_box2">
            <!-- <a class="logo_box" href="{{ url_for('index') }}"><img src="../static/images/logo1.jpeg" /></a> -->
            <ul class="nav_box">
                <li class="nav_1"><a class="nav_but" href="{{ url_for('news_center') }}">话题</a>
                    <div class="nav_slide">
                        <div class="nav_slide1">
                            <a href="{{ url_for('news_center') }}">课程公告<span><img
                                    src="../static/images/siade_bg1.png"/></span></a>
                            <a href="{{ url_for('course_discussion') }}">课程讨论<span><img
                                    src="../static/images/siade_bg1.png"/></span></a>
                        </div>
                    </div>
                </li>
                <li class="nav_1"><a class="nav_but" href="{{ url_for('recommed') }}">推荐</a></li>
                <li class="nav_1"><a class="nav_but" href="{{ url_for('train_plan') }}?type=0">评分</a></li>
                <li class="nav_1"><a class="nav_but" href="{{ url_for('train_plan') }}?type=1">查询</a></li>
                <li class="nav_1"><a class="nav_but" href="{{ url_for('index') }}">首页</a></li>
            </ul>
        </div>

    </div>
</div>

<!-- 进度条设置start -->
<div class="content_box_bot1">
    <ul class="content_box_bot_l">
        <div class="info_news">
            <div class="info_news_but">
                <p class="on">课程进度</p>
                <p style="display: none; ">评分</p>
            </div>
            <div class="col-md-4">
                <ul class="info_news_text info_news_text1 ">
                    <p class="info1"> 总进度</p>
                    <div class="process-parent1">
                        <div class="progress-bar bg-success" style="width:0%">
                            <p class="on2" id="on1">0%</p>
                        </div>
                        <div class="progress-bar bg-warning" style="width:0%">
                        </div>
                    </div>
                    <p class="info2">专业实践必修</p>
                    <div class="process-parent2">
                        <div class="progress-bar bg-success" style="width:0%">
                            <p class="on2" id="on2">0%</p>
                        </div>
                        <div class="progress-bar bg-warning" style="width:0%">
                        </div>
                    </div>
                    <p class="info3"> 专业理论必修</p>
                    <div class="process-parent3">
                        <div class="progress-bar bg-success" style="width:0%">
                            <p class="on2" id="on3">0%</p>
                        </div>
                        <div class="progress-bar bg-warning" style="width:0%">
                        </div>
                    </div>
                    <p class="info4"> 专业理论选修</p>
                    <div class="process-parent4">
                        <div class="progress-bar bg-success" style="width:0%">
                            <p class="on2" id="on4">0%</p>
                        </div>
                        <div class="progress-bar bg-warning" style="width:0%">
                        </div>
                    </div>
                    <p class="info5"> 学科实践必修</p>
                    <div class="process-parent5">
                        <div class="progress-bar bg-success" style="width:0%">
                            <p class="on2" id="on5">0%</p>
                        </div>
                        <div class="progress-bar bg-warning" style="width:0%">
                        </div>
                    </div>
                    <p class="info6"> 学科理论必修</p>
                    <div class="process-parent6">
                        <div class="progress-bar bg-success" style="width:0%">
                            <p class="on2" id="on6">0%</p>
                        </div>
                        <div class="progress-bar bg-warning" style="width:0%">
                        </div>
                    </div>
                    <p class="info7"> 实践选修</p>
                    <div class="process-parent7">
                        <div class="progress-bar bg-success" style="width:0%">
                            <p class="on2" id="on7">0%</p>
                        </div>
                        <div class="progress-bar bg-warning" style="width:0%">
                        </div>
                    </div>
                    <p class="info8"> 第三课堂</p>
                    <div class="process-parent8">
                        <div class="progress-bar bg-success" style="width:0%">
                            <p class="on2" id="on8">0%</p>
                        </div>
                        <div class="progress-bar bg-warning" style="width:0%">
                        </div>
                    </div>
                    <p class="info9"> 通识实践必修</p>
                    <div class="process-parent9">
                        <div class="progress-bar bg-success" style="width:0%">
                            <p class="on2" id="on9">0%</p>
                        </div>
                        <div class="progress-bar bg-warning" style="width:0%">
                        </div>
                    </div>
                    <p class="info10"> 通识理论必修</p>
                    <div class="process-parent10">
                        <div class="progress-bar bg-success" style="width:0%">
                            <p class="on2" id="on10">0%</p>
                        </div>
                        <div class="progress-bar bg-warning" style="width:0%">
                        </div>
                    </div>
                    <p class="info11"> 通识理论选修(公选)</p>
                    <div class="process-parent11">
                        <div class="progress-bar bg-success" style="width:0%">
                            <p class="on2" id="on11">0%</p>
                        </div>
                        <div class="progress-bar bg-warning" style="width:0%">
                        </div>
                    </div>
                    <!-- <p class="info12"> 专业选修</p>
                    <div class="process-parent12">
                        <div class="progress-bar bg-success" style="width:0%">
                            <p class="on2" id="on12">0%</p>
                        </div>
                        <div class="progress-bar bg-warning" style="width:0%">
                        </div>
                    </div> -->
                    <div class="submit" style="background-color: initial;">
                        <input type="submit" onclick="submit()" class="el-button first" value="提交 ">
                    </div>
                    <div class="reset" style="background-color: initial;">
                        <input type="reset" onclick="rebuild()" class="el-button" name="butReset" value="撤销">
                    </div>
                </ul>
            </div>
            <div class="mark">
                <ul class="info_news_text info_news_text2" style="margin-left:600px">
                    <select id="domain" style="width:220px; height: 40px">
                        <option selected="selected">课程类别</option>

                    </select>

                    <select id="course" style="width:220px; height: 40px">
                        <option selected="selected">课程</option>
                    </select>

                    <select id="score" style="width:220px; height: 40px">
                        <option selected="selected">分数</option>
                        <!-- <option value="">1</option>
                        <option value="">2</option>
                        <option value="">3</option>
                        <option value="">4</option>
                        <option value="">5</option> -->
                    </select>
                    <select id="pass" style="width:220px; height: 40px">
                        <option selected="selected">是否容易通过</option>
                        <!-- <option value="1">通过</option>
                        <option value="0">不通过</option> -->
                    </select>
                    <select id="interesting" style="width:220px; height: 40px">
                        <option selected="selected">课堂有趣度</option>
<!--                        <option value="">1</option>-->
<!--                        <option value="">2</option>-->
<!--                        <option value="">3</option>-->
<!--                        <option value="">4</option>-->
<!--                        <option value="">5</option>-->
                    </select>
                    <select id="acknowledged" style="width:220px; height: 40px">
                        <option selected="selected">知识丰富度</option>
<!--                        <option value="">1</option>-->
<!--                        <option value="">2</option>-->
<!--                        <option value="">3</option>-->
<!--                        <option value="">4</option>-->
<!--                        <option value="">5</option>-->
                    </select>
                    <div class="scoreConfirm" style="width:220px; height: 40px">
                        <input type="submit" id='btnScore' onclick="updataScore()" name="score" class="el-button"
                               value="确定评分">
                    </div>
                </ul>
            </div>
        </div>
    </ul>
</div>
<!--树形图  -->
<div id="container"
     style=" background-color: #ffffff;  width:1250px;height:800px; position:absolute;  top:100px; margin-top:50px;  margin-left:250px;  ">
</div>
<!-- top: 1092px; transform: rotate(270deg);-->
<script>
            $(".nav_1").mouseenter(function () {
                $(this).find(".nav_slide").slideDown()
            });
            $(".nav_1").mouseleave(function () {
                $(".nav_slide").slideUp()
            });

</script>
<!-- 树状图js引入 -->
<!-- <script type="text/javascript" src="../static/js/Tree.js"></script> -->
<!-- 课程列表显示情况设置 -->
<script>
            // $(".info_news_but p").each(function (n) {
            //     $(this).click(function () {
            //         $(this).addClass("on").siblings("p").removeClass("on");
            //         $(".info_news_text").hide(400).eq(n).show(500);
            //     });
            // });
            UrlSearch();
            if (type == '1') {
                $('.content_box_bot1').css('background','none');
                $(".info_news_but p:nth-of-type(1)").show();
                $(".info_news_but p:nth-of-type(1)").css('margin-left','107px');
                $(".info_news_but p:nth-of-type(2)").hide();
            } else {
                $('#container').css('display','none');
                $('.info_news_text1').css('display','none');
                $('.info_news_text2').css('display','block');

                // $('body').css('background','url(../static/images/index-bgc.jpg) no-repeat');
                // $(".info_news_but p:nth-of-type(2)").click();
                $('body').css({'background': 'url(../static/images/index-bgc.jpg)no-repeat',
                'background-size': '100% 120%'});
                $('.content_box_bot_l').css('margin-top','100px');
                $('.info_news_but').css('overflow','initial');

                $('.content_box_bot1').css({'width':'0','height':'0','margin':'0','padding':'0'});
                $('select').css({'margin-top':'40px','margin-left':'50px'});

                $('.scoreConfirm').css({'margin-left':'170px','margin-top':'6 0px','padding':'15px'});
                $(".info_news_but p:nth-of-type(2)").css('margin-top',' 20px');
                $(".info_news_but p:nth-of-type(2)").css({'margin-left':'700px'});
                $(".info_news_but p:nth-of-type(1)").hide();
                $(".info_news_but p:nth-of-type(2)").show();

            }

            //获取地址栏参数

            function UrlSearch() {
                var name, value;
                var str = location.href; //取得整个地址栏
                var num = str.indexOf("?")
                str = str.substr(num + 1); //取得所有参数 stringvar.substr(start [, length ]

                var arr = str.split("&"); //各个参数放到数组里
                for (var i = 0; i < arr.length; i++) {
                    num = arr[i].indexOf("=");
                    if (num > 0) {
                        name = arr[i].substring(0, num);
                        value = arr[i].substr(num + 1);
                        this[name] = value;
                    }
                }
            }



</script>

<!-- end -->
<!-- <div class="contacts">
    <div class="contacts-ctn">
      <p style="white-space: nowrap;">如有问题请联系：************</p>
    </div>
  </div> -->
<script>
    $(function () {
      
        /*鼠标移过，左右按钮显示*/
        $(".user-msg").mouseover(function () {
            $('.user-name-num').show();
        }).mouseout(function () {
            $('.user-name-num').hide();
        });
        $('.submit>input,#btnScore,.reset>input').mousedown(function () {
            console.log(this);
            $(this).addClass('act');
        }).mouseup(function () {
            $(this).removeClass('act');
        })
        $('.act').on('click', function () {
            submit();
        })
        function submit() {
            var postData = {};
            var tree = myChart.getOption()['series'][0]['data'][0];
            var scores = course2score;
            var returnData = { 'tree': tree, 'scores': scores };
            $.ajax({
                type: 'POST',
                url: "submit_train_plan",
                contentType: "application/json",
                data: JSON.stringify(returnData),  //转化字符串
                dataType: "json",

                success: function (data) {

                    myChart.setOption({
                        series: [{
                            name: "trianPlanTree",
                            data: [data]
                        }]
                    })
                    originTrainPlain = data;
                    console.log(data)
                },
                error: function (data) {
                    console.log(data)
                }
            })
        }
    })

</script>
</body>

<script src="../static/js/Tree.js"></script>
<script src="../static/js/actions.js" type="text/javascript"></script>

</html>